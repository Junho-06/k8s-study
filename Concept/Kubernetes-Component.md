# 쿠버네티스 컴포넌트
쿠버네티스를 배포하면 클러스터를 얻게 된다.  

쿠버네티스 클러스터는 컨테이너화된 애플리케이션을 실행하는 노드라고 하는 워커 머신의 집합이고 모든 클러스터는 최소 한 개의 워커 노드를 가진다.  

워커 노드는 애플리케이션의 구성요소인 파드를 호스트한다.

컨트롤 플레인은 워커 노드와 클러스터 내 파드를 관리한다.  

프로덕션 환경에서는 일반적으로 컨트롤 플레인이 여러 컴퓨터에 걸쳐 실행되고, 클러스터는 일반적으로 여러 노드를 실행하므로 내결함성과 고가용성이 제공된다.

![쿠버네티스 클러스터 구성요소](https://d33wubrfki0l68.cloudfront.net/2475489eaf20163ec0f54ddc1d92aa8d4c87c96b/e7c81/images/docs/components-of-kubernetes.svg)
쿠버네티스 클러스터 구성요소  

## 컨트롤 플레인 컴포넌트
컨트롤 플레인 컴포넌트는 클러스터에 관한 전반적인 결정을 수행하고 클러스터 이벤트를 감지하고 반응한다.  

컨트롤 플레인 컴포넌트는 크ㄹ러스터 내 어떠한 머신에서든지 동작할 수 있다.  
그나 간결성을 위하여, 구성 스크립트는 보통 동일 머신 상에 모든 컨트롤 플레인 컴포넌트를 구동시키고, 사용자 컨테이너는 해당 머신 상에 동작시키지 않는다.  

### kube-apiserver
API 서버는 쿠버네티스 API를 노출하는 쿠버네티스 컨트롤 플레인 컴포넌트이다.  
API 서버는 쿠버네티스 컨트롤 플레인의 프론트 엔드이다.  

쿠버네티스 API 서버의 주요 구현은 kube-apiserver 이다.  
kube-apiserver는 수평적으로 확장되도록 디자인되었다. 즉, 더 많은 인스턴스를 배포해서 확장할 수 있다.  
여러 kube-apiserver 인스턴스를 실행하고, 인스턴스간의 트래픽을 균형있게 조절할 수 있다.

### etcd
모든 클러스터 데이터를 담는 쿠버네티스 뒷단의 저장소로 사용되는 일관성/고가용성의 Key-Value 저장소 이다.  

쿠버네티스 클러스터에서 etcd를 뒷단의 저장소로 사용한다면, 이 데이터를 백업하는 게획은 필수이다.

### kube-scheduler
노드가 배정되지 않은 새로 생성된 파드를 감지하고, 실행할 노드를 선택하는 컨트롤 플레인 컴포넌트이다.  

스케줄링 결정을 위해서 고려되는 요소는 리소스에 대한 개별 및 총체적 요구 사항, 하드웨어/소프트웨어/정책적 제약, 데이터 지역성, 워크로드 간 간섭, 데드라인, 어피니티 및 안티어피니티를 포함한다.