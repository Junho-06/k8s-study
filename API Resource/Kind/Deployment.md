### 디플로이먼트란?
서비스 버전이 업데이트되어 파드를 새로운 버전의 이미지 파드로 교체해야 할 때  
새 버전에 이슈가 발견되어 롤백을 진행해야 할 때 사용할 수 있는 API 리소스 입니다.

- 파드의 이미지 버전이 갱신될 때 배포 전략을 설정합니다.
- 디플로이먼트 오브젝트를 생성하면 대응되는 ReplicaSet과 Pod를 자동으로 생성합니다.
- 기본적으로 Recreate 전략과 RollingUpdate 전략을 지원합니다.
- 사용자는 특수한 목적이 아니라면 파드와 레플리카셋이 아닌 디플로이먼트로 워크로드를 관리합니다.

### 디플로이먼트의 배포전략
1. 재생성 (Recreate)

- 기존 레플리카셋의 파드를 모두 종료 후 새 레플리카셋의 파드를 새로 생성합니다.
- 서비스의 다운타임을 고려해야합니다.

2. 롤링 업데이트 (Rolling Update)

- 세부 설정에 따라 기존 레플리카셋에서 새 레플리카셋으로 점진적으로 이동합니다.
    - maxSurge: 업데이트 과정에 spec.replicas 수 기준 최대 새로 추가되는 파드 수를 설정하는 옵션입니다.
    - maxUnavailable: 업데이트 과정에 spec.replicas 수 기준 최대 이용 불가능 파드수를 설정하는 옵션입니다.

    - 새 파드 생성 후 기존 파드 삭제를 반복하는 예시 입니다.
    ```yaml
    maxSurge: 1
    maxUnavailable: 0
    ```
    - 기존 파드 삭제 후 새 파드 생성을 반복하는 예시 입니다.
    ```yaml
    maxSurge: 0
    maxUnavailable: 1
    ```